(()=>{var e={};e.id=598,e.ids=[598],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1862:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(2688).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4425:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var r=t(687),a=t(3210),n=t(5814),i=t.n(n),l=t(4934),c=t(5192),d=t(9821),o=t(8122);let x=(0,t(2688).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var m=t(5336),h=t(3649),p=t(4027),u=t(2597),j=t(3861),g=t(2953),v=t(350);function b({onOpenSettings:e}){let[s,t]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[b,N]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),A=async()=>{i(!0);try{let e=(0,v.getStoredAPIKeys)(),s=await fetch("/api/test-ai"),r=await s.json(),a=await fetch("/api/frontend-api-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKeys:e})}),n=await a.json();t({environment:r.data,frontend:n.data,combined:{totalProviders:5,frontendConfigured:n.data?.frontend?.summary?.configured||0,envConfigured:Object.values(r.data?.environment||{}).filter(Boolean).length,recommendations:n.data?.report?.recommendations||[]}}),y(new Date)}catch(e){console.error("获取API状态失败:",e)}finally{i(!1)}},k=s?0===s.combined.frontendConfigured+s.combined.envConfigured?{color:"red",text:"未配置",icon:x}:s.combined.frontendConfigured>0?{color:"green",text:"前端配置",icon:m.A}:{color:"amber",text:"环境变量",icon:h.A}:{color:"gray",text:"检查中...",icon:o.A};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(c.Zp,{children:[(0,r.jsx)(c.aR,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(k.icon,{className:`size-5 text-${k.color}-500`}),"API配置状态"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:A,disabled:n,children:[(0,r.jsx)(o.A,{className:`size-4 mr-2 ${n?"animate-spin":""}`}),"刷新"]}),e&&(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:e,children:[(0,r.jsx)(p.A,{className:"size-4 mr-2"}),"设置"]})]})]})}),(0,r.jsx)(c.Wu,{children:n?(0,r.jsxs)("div",{className:"text-center py-4",children:[(0,r.jsx)(o.A,{className:"size-6 animate-spin mx-auto mb-2 text-gray-400"}),(0,r.jsx)("p",{className:"text-gray-600",children:"检查API配置状态..."})]}):s?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.combined.frontendConfigured}),(0,r.jsx)("div",{className:"text-sm text-blue-700",children:"前端配置"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:s.combined.envConfigured}),(0,r.jsx)("div",{className:"text-sm text-gray-700",children:"环境变量"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:s.combined.frontendConfigured+s.combined.envConfigured}),(0,r.jsx)("div",{className:"text-sm text-green-700",children:"总计可用"})]})]}),s.combined.recommendations.length>0&&(0,r.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-amber-800 mb-2",children:"配置建议"}),(0,r.jsx)("ul",{className:"text-sm text-amber-700 space-y-1",children:s.combined.recommendations.slice(0,3).map((e,s)=>(0,r.jsx)("li",{children:e},s))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["最后更新: ",f?.toLocaleTimeString()]}),(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:()=>N(!b),children:[b?(0,r.jsx)(u.A,{className:"size-4 mr-2"}):(0,r.jsx)(j.A,{className:"size-4 mr-2"}),b?"隐藏详情":"显示详情"]})]})]}):(0,r.jsxs)("div",{className:"text-center py-4 text-red-600",children:[(0,r.jsx)(x,{className:"size-6 mx-auto mb-2"}),(0,r.jsx)("p",{children:"无法获取API状态"})]})})]}),b&&s&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(c.Zp,{children:[(0,r.jsx)(c.aR,{children:(0,r.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"size-5 text-blue-500"}),"前端API配置"]})}),(0,r.jsx)(c.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(v.API_PROVIDERS).map(([e,t])=>{let a=s.frontend?.frontend?.providers?.[e],n=a?.configured||!1;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-xl",children:t.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:t.name}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:t.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[n?(0,r.jsxs)(d.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,r.jsx)(m.A,{className:"size-3 mr-1"}),"已配置"]}):(0,r.jsx)(d.E,{variant:"outline",children:"未配置"}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>window.open(t.website,"_blank"),children:(0,r.jsx)(g.A,{className:"size-4"})})]})]},e)})})})]}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsx)(c.aR,{children:(0,r.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"size-5 text-amber-500"}),"环境变量配置"]})}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(s.environment?.environment||{}).map(([e,s])=>{let t=v.API_PROVIDERS[e];return t?(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-xl",children:t.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:t.name}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"环境变量配置"})]})]}),s?(0,r.jsxs)(d.E,{variant:"secondary",className:"bg-amber-100 text-amber-800",children:[(0,r.jsx)(m.A,{className:"size-3 mr-1"}),"已配置"]}):(0,r.jsx)(d.E,{variant:"outline",children:"未配置"})]},e):null})}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"\uD83D\uDCA1 环境变量配置作为备用方案。推荐使用前端API设置界面进行配置，更安全且用户友好。"})})]})]})]})]})}var N=t(6184),f=t(8559),y=t(6234);function A(){let[e,s]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)(i(),{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,r.jsx)(f.A,{className:"size-5"}),(0,r.jsx)(y.A,{className:"size-6 text-orange-500"}),(0,r.jsx)("span",{className:"text-xl font-bold",children:"RecipeGenius"})]}),(0,r.jsxs)(l.$,{onClick:()=>s(!0),className:"bg-orange-500 hover:bg-orange-600 text-white",children:[(0,r.jsx)(p.A,{className:"size-4 mr-2"}),"API设置"]})]}),(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"API配置状态"}),(0,r.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"查看和管理您的AI提供商API密钥配置。支持前端安全存储和环境变量配置。"})]}),(0,r.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,r.jsx)(b,{onOpenSettings:()=>s(!0)})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto mt-12",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"使用说明"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDD11 前端API配置（推荐）"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsx)("li",{children:"• 安全的本地加密存储"}),(0,r.jsx)("li",{children:"• 实时API密钥验证"}),(0,r.jsx)("li",{children:"• 用户友好的管理界面"}),(0,r.jsx)("li",{children:"• 支持多提供商管理"}),(0,r.jsx)("li",{children:"• 密钥不会上传到服务器"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"⚙️ 环境变量配置（传统）"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsx)("li",{children:"• 服务器端配置"}),(0,r.jsx)("li",{children:"• 需要重启服务器生效"}),(0,r.jsx)("li",{children:"• 适合生产环境部署"}),(0,r.jsx)("li",{children:"• 作为前端配置的备用"}),(0,r.jsx)("li",{children:"• 优先级低于前端配置"})]})]})]})]})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto mt-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"支持的AI提供商"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDE80"}),(0,r.jsx)("span",{className:"font-medium",children:"DeepSeek"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"性价比之王，价格极低"}),(0,r.jsx)("a",{href:"https://platform.deepseek.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"}),(0,r.jsx)("span",{className:"font-medium",children:"豆包"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"字节跳动，国内访问稳定"}),(0,r.jsx)("a",{href:"https://console.volcengine.com/ark",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"☁️"}),(0,r.jsx)("span",{className:"font-medium",children:"通义千问"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"阿里云生态，企业级稳定"}),(0,r.jsx)("a",{href:"https://bailian.console.aliyun.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83E\uDDE0"}),(0,r.jsx)("span",{className:"font-medium",children:"智谱AI"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"清华技术，中文优化"}),(0,r.jsx)("a",{href:"https://open.bigmodel.cn",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83C\uDF1F"}),(0,r.jsx)("span",{className:"font-medium",children:"Google Gemini"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Google AI，功能强大"}),(0,r.jsx)("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]})]})]})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto mt-8 text-center",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"开始使用智能菜谱生成"}),(0,r.jsx)("p",{className:"mb-4 opacity-90",children:"配置好API密钥后，立即体验AI为您创造的美味菜谱"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsxs)(l.$,{onClick:()=>s(!0),variant:"secondary",className:"bg-white text-orange-600 hover:bg-gray-100",children:[(0,r.jsx)(p.A,{className:"size-4 mr-2"}),"配置API密钥"]}),(0,r.jsx)(i(),{href:"/ingredients",children:(0,r.jsx)(l.$,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",children:"开始生成菜谱"})})]})]})})]}),(0,r.jsx)(N.$,{isOpen:e,onClose:()=>s(!1),onKeysUpdated:()=>{window.location.reload()}})]})}},5336:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(2688).A)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5916:(e,s,t)=>{Promise.resolve().then(t.bind(t,4425))},6317:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/api-status/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/api-status/page.tsx","default")},8122:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(2688).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8559:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(2688).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9068:(e,s,t)=>{Promise.resolve().then(t.bind(t,6317))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9312:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=t(5239),a=t(8088),n=t(8170),i=t.n(n),l=t(893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d={children:["",{children:["api-status",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6317)),"/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/api-status/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/api-status/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/api-status/page",pathname:"/api-status",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9551:e=>{"use strict";e.exports=require("url")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,985,767,627,409],()=>t(9312));module.exports=r})();