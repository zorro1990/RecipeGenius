(()=>{var e={};e.id=825,e.ids=[825],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>m,routeModule:()=>p,serverHooks:()=>l,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{POST:()=>u});var o=s(6559),a=s(8088),n=s(7719),i=s(2190);async function u(e){try{let{apiKey:t,endpointId:s}=await e.json();if(!t||!s)return i.NextResponse.json({success:!1,error:"请提供API密钥和端点ID"},{status:400});let r=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:s,messages:[{role:"user",content:'你好，请回复"测试成功"'}],temperature:.7,max_tokens:100}),signal:AbortSignal.timeout(3e4)}),o=await r.json();if(!r.ok)return i.NextResponse.json({success:!1,error:`豆包API错误: ${o.error?.message||o.message||"未知错误"}`,details:o},{status:r.status});let a=o.choices?.[0]?.message?.content||"";return i.NextResponse.json({success:!0,message:"豆包API连接成功",response:a,details:{model:s,usage:o.usage}})}catch(t){console.error("豆包API测试错误:",t);let e="豆包API测试失败";return t instanceof Error&&(e="AbortError"===t.name?"请求超时，豆包API响应较慢":t.message),i.NextResponse.json({success:!1,error:e,details:t instanceof Error?t.message:"未知错误"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/test-doubao/route",pathname:"/api/test-doubao",filename:"route",bundlePath:"app/api/test-doubao/route"},resolvedPagePath:"/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/api/test-doubao/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:c,workUnitAsyncStorage:d,serverHooks:l}=p;function m(){return(0,n.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:d})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,580],()=>s(2325));module.exports=r})();