(()=>{var e={};e.id=60,e.ids=[60],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},6978:(e,n,t)=>{"use strict";t.r(n),t.d(n,{patchFetch:()=>f,routeModule:()=>d,serverHooks:()=>m,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>l});var r={};t.r(r),t.d(r,{GET:()=>p,POST:()=>u});var s=t(6559),o=t(8088),a=t(7719),i=t(2190);async function u(e){try{let{apiKeys:n}=await e.json();if(!n||"object"!=typeof n)return i.NextResponse.json({success:!1,error:"请提供API密钥信息"},{status:400});let t=function(e){let n=["deepseek","doubao","qwen","glm","gemini"],t={},r=0,s=n.length;return n.forEach(n=>{let s=e[n]&&e[n].trim().length>0,o="doubao"!==n||e.doubaoEndpointId&&e.doubaoEndpointId.trim().length>0;t[n]={configured:s&&o,hasKey:s,hasEndpoint:"doubao"===n?o:null,keyLength:s?e[n].length:0,keyPrefix:s?function(e){if(!e||e.length<8)return"****";let n=e.substring(0,4),t=e.substring(e.length-4);return`${n}****${t}`}(e[n]):null},s&&o&&r++}),{providers:t,summary:{configured:r,total:s,percentage:Math.round(r/s*100),hasAny:r>0}}}(n),r={doubao:!!process.env.DOUBAO_API_KEY,deepseek:!!process.env.DEEPSEEK_API_KEY,qwen:!!process.env.QWEN_API_KEY,glm:!!process.env.GLM_API_KEY,gemini:!!process.env.GOOGLE_API_KEY},s=function(e,n){let t={overall:"unknown",recommendations:[],warnings:[],info:[]},r=e.summary.configured,s=Object.values(n).filter(Boolean).length;if(0===r+s?(t.overall="no-config",t.recommendations.push("\uD83D\uDD11 请配置至少一个AI提供商的API密钥"),t.recommendations.push("\uD83D\uDCA1 推荐使用前端API设置界面（更安全、更方便）")):r>0&&0===s?(t.overall="frontend-only",t.info.push("✅ 使用前端API密钥配置（推荐方式）"),1===r&&t.recommendations.push("\uD83D\uDD04 建议配置多个提供商作为备用")):0===r&&s>0?(t.overall="env-only",t.info.push("⚠️ 使用环境变量配置（传统方式）"),t.recommendations.push("\uD83C\uDD95 建议迁移到前端API设置界面"),t.recommendations.push("   • 更安全的本地存储"),t.recommendations.push("   • 实时验证功能"),t.recommendations.push("   • 更好的用户体验")):(t.overall="hybrid",t.info.push("\uD83D\uDD04 同时使用前端和环境变量配置"),t.info.push("\uD83D\uDCCB 前端配置优先级更高")),r>0){let n=Object.entries(e.providers).filter(([e,n])=>n.configured).map(([e,n])=>e);t.info.push(`🎯 已配置的前端提供商: ${n.join(", ")}`),n.includes("deepseek")||t.recommendations.push("\uD83D\uDE80 推荐配置DeepSeek（性价比最高）"),n.includes("doubao")||t.recommendations.push("\uD83C\uDFAF 推荐配置豆包（国内访问稳定）")}return r>0&&(t.info.push("\uD83D\uDD12 前端API密钥已加密存储在本地"),t.info.push("\uD83D\uDEE1️ 密钥不会上传到服务器")),t}(t,r);return i.NextResponse.json({success:!0,message:"前端API密钥状态获取成功",data:{frontend:t,environment:r,report:s,timestamp:new Date().toISOString()}})}catch(e){return console.error("前端API状态检查错误:",e),i.NextResponse.json({success:!1,error:"状态检查失败",details:e instanceof Error?e.message:"未知错误"},{status:500})}}async function p(){return i.NextResponse.json({success:!1,error:"请使用POST方法并提供API密钥信息",usage:{method:"POST",body:{apiKeys:{deepseek:"sk-xxx...",doubao:"xxx...",doubaoEndpointId:"xxx..."}}}},{status:405})}let d=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/frontend-api-status/route",pathname:"/api/frontend-api-status",filename:"route",bundlePath:"app/api/frontend-api-status/route"},resolvedPagePath:"/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/api/frontend-api-status/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:c,workUnitAsyncStorage:l,serverHooks:m}=d;function f(){return(0,a.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:l})}},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var n=require("../../../webpack-runtime.js");n.C(e);var t=e=>n(n.s=e),r=n.X(0,[447,580],()=>t(6978));module.exports=r})();