(()=>{var e={};e.id=217,e.ids=[217],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},952:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>m,routeModule:()=>u,serverHooks:()=>d,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>l});var r={};s.r(r),s.d(r,{GET:()=>p});var o=s(6559),n=s(8088),a=s(7719),i=s(2190);async function p(){try{let e=process.env.GOOGLE_API_KEY;if(!e||"your_gemini_api_key_here"===e)return i.NextResponse.json({success:!1,error:"API密钥未配置"});let t=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Say hello"}]}]}),signal:AbortSignal.timeout(15e3)});if(!t.ok){let e=await t.text();return console.error("API错误响应:",e),i.NextResponse.json({success:!1,error:`API请求失败: ${t.status}`,details:e,status:t.status})}let s=await t.json();return i.NextResponse.json({success:!0,message:"API连接成功",response:s.candidates?.[0]?.content?.parts?.[0]?.text||"No response text",status:t.status})}catch(s){console.error("测试API错误:",s);let e=s.message||"未知错误",t=[];return"AbortError"===s.name?(e="请求超时",t.push("网络连接可能较慢，请检查网络")):e.includes("fetch")&&(t.push("网络连接问题"),t.push("可能是防火墙或代理设置问题"),t.push("尝试使用VPN或更换网络")),i.NextResponse.json({success:!1,error:"连接失败",details:e,suggestions:t,errorType:s.name})}}let u=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/simple-test/route",pathname:"/api/simple-test",filename:"route",bundlePath:"app/api/simple-test/route"},resolvedPagePath:"/Users/zorro/Documents/augment-projects/cooker/recipe-genius/app/api/simple-test/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:c,workUnitAsyncStorage:l,serverHooks:d}=u;function m(){return(0,a.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:l})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,580],()=>s(952));module.exports=r})();