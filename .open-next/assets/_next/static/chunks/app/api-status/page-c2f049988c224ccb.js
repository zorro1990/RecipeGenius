(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{381:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},646:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1154:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1243:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2525:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3786:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3904:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4416:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5196:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5525:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6113:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var l=a(5155),t=a(2115),r=a(6874),i=a.n(r),n=a(7168),c=a(8482),d=a(8145),x=a(3904);let m=(0,a(9946).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var o=a(646),h=a(1243),j=a(381),p=a(8749),g=a(2657),u=a(3786),v=a(2796);function N(e){var s;let{onOpenSettings:a}=e,[r,i]=(0,t.useState)(null),[N,y]=(0,t.useState)(!0),[b,f]=(0,t.useState)(!1),[A,k]=(0,t.useState)(null),w=async()=>{y(!0);try{var e,s,a,l,t,r;let n=(0,v.getStoredAPIKeys)(),c=await fetch("/api/test-ai"),d=await c.json(),x=await fetch("/api/frontend-api-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKeys:n})}),m=await x.json();i({environment:d.data,frontend:m.data,combined:{totalProviders:5,frontendConfigured:(null==(a=m.data)||null==(s=a.frontend)||null==(e=s.summary)?void 0:e.configured)||0,envConfigured:Object.values((null==(l=d.data)?void 0:l.environment)||{}).filter(Boolean).length,recommendations:(null==(r=m.data)||null==(t=r.report)?void 0:t.recommendations)||[]}}),k(new Date)}catch(e){console.error("获取API状态失败:",e)}finally{y(!1)}};(0,t.useEffect)(()=>{w()},[]);let z=r?0===r.combined.frontendConfigured+r.combined.envConfigured?{color:"red",text:"未配置",icon:m}:r.combined.frontendConfigured>0?{color:"green",text:"前端配置",icon:o.A}:{color:"amber",text:"环境变量",icon:h.A}:{color:"gray",text:"检查中...",icon:x.A};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(z.icon,{className:"size-5 text-".concat(z.color,"-500")}),"API配置状态"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(n.$,{variant:"outline",size:"sm",onClick:w,disabled:N,children:[(0,l.jsx)(x.A,{className:"size-4 mr-2 ".concat(N?"animate-spin":"")}),"刷新"]}),a&&(0,l.jsxs)(n.$,{variant:"outline",size:"sm",onClick:a,children:[(0,l.jsx)(j.A,{className:"size-4 mr-2"}),"设置"]})]})]})}),(0,l.jsx)(c.Wu,{children:N?(0,l.jsxs)("div",{className:"text-center py-4",children:[(0,l.jsx)(x.A,{className:"size-6 animate-spin mx-auto mb-2 text-gray-400"}),(0,l.jsx)("p",{className:"text-gray-600",children:"检查API配置状态..."})]}):r?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.combined.frontendConfigured}),(0,l.jsx)("div",{className:"text-sm text-blue-700",children:"前端配置"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:r.combined.envConfigured}),(0,l.jsx)("div",{className:"text-sm text-gray-700",children:"环境变量"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.combined.frontendConfigured+r.combined.envConfigured}),(0,l.jsx)("div",{className:"text-sm text-green-700",children:"总计可用"})]})]}),r.combined.recommendations.length>0&&(0,l.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-amber-800 mb-2",children:"配置建议"}),(0,l.jsx)("ul",{className:"text-sm text-amber-700 space-y-1",children:r.combined.recommendations.slice(0,3).map((e,s)=>(0,l.jsx)("li",{children:e},s))})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["最后更新: ",null==A?void 0:A.toLocaleTimeString()]}),(0,l.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>f(!b),children:[b?(0,l.jsx)(p.A,{className:"size-4 mr-2"}):(0,l.jsx)(g.A,{className:"size-4 mr-2"}),b?"隐藏详情":"显示详情"]})]})]}):(0,l.jsxs)("div",{className:"text-center py-4 text-red-600",children:[(0,l.jsx)(m,{className:"size-6 mx-auto mb-2"}),(0,l.jsx)("p",{children:"无法获取API状态"})]})})]}),b&&r&&(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(o.A,{className:"size-5 text-blue-500"}),"前端API配置"]})}),(0,l.jsx)(c.Wu,{children:(0,l.jsx)("div",{className:"space-y-3",children:Object.entries(v.API_PROVIDERS).map(e=>{var s,a,t;let[i,c]=e,x=null==(t=r.frontend)||null==(a=t.frontend)||null==(s=a.providers)?void 0:s[i],m=(null==x?void 0:x.configured)||!1;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-xl",children:c.icon}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:c.name}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:c.description})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[m?(0,l.jsxs)(d.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,l.jsx)(o.A,{className:"size-3 mr-1"}),"已配置"]}):(0,l.jsx)(d.E,{variant:"outline",children:"未配置"}),(0,l.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>window.open(c.website,"_blank"),children:(0,l.jsx)(u.A,{className:"size-4"})})]})]},i)})})})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(h.A,{className:"size-5 text-amber-500"}),"环境变量配置"]})}),(0,l.jsxs)(c.Wu,{children:[(0,l.jsx)("div",{className:"space-y-3",children:Object.entries((null==(s=r.environment)?void 0:s.environment)||{}).map(e=>{let[s,a]=e,t=v.API_PROVIDERS[s];return t?(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-xl",children:t.icon}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:t.name}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"环境变量配置"})]})]}),a?(0,l.jsxs)(d.E,{variant:"secondary",className:"bg-amber-100 text-amber-800",children:[(0,l.jsx)(o.A,{className:"size-3 mr-1"}),"已配置"]}):(0,l.jsx)(d.E,{variant:"outline",children:"未配置"})]},s):null})}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"\uD83D\uDCA1 环境变量配置作为备用方案。推荐使用前端API设置界面进行配置，更安全且用户友好。"})})]})]})]})]})}var y=a(9941),b=a(7550),f=a(744);function A(){let[e,s]=(0,t.useState)(!1);return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50",children:[(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsxs)(i(),{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,l.jsx)(b.A,{className:"size-5"}),(0,l.jsx)(f.A,{className:"size-6 text-orange-500"}),(0,l.jsx)("span",{className:"text-xl font-bold",children:"RecipeGenius"})]}),(0,l.jsxs)(n.$,{onClick:()=>s(!0),className:"bg-orange-500 hover:bg-orange-600 text-white",children:[(0,l.jsx)(j.A,{className:"size-4 mr-2"}),"API设置"]})]}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"API配置状态"}),(0,l.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"查看和管理您的AI提供商API密钥配置。支持前端安全存储和环境变量配置。"})]}),(0,l.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,l.jsx)(N,{onOpenSettings:()=>s(!0)})}),(0,l.jsx)("div",{className:"max-w-4xl mx-auto mt-12",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"使用说明"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDD11 前端API配置（推荐）"}),(0,l.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,l.jsx)("li",{children:"• 安全的本地加密存储"}),(0,l.jsx)("li",{children:"• 实时API密钥验证"}),(0,l.jsx)("li",{children:"• 用户友好的管理界面"}),(0,l.jsx)("li",{children:"• 支持多提供商管理"}),(0,l.jsx)("li",{children:"• 密钥不会上传到服务器"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"⚙️ 环境变量配置（传统）"}),(0,l.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,l.jsx)("li",{children:"• 服务器端配置"}),(0,l.jsx)("li",{children:"• 需要重启服务器生效"}),(0,l.jsx)("li",{children:"• 适合生产环境部署"}),(0,l.jsx)("li",{children:"• 作为前端配置的备用"}),(0,l.jsx)("li",{children:"• 优先级低于前端配置"})]})]})]})]})}),(0,l.jsx)("div",{className:"max-w-4xl mx-auto mt-8",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"支持的AI提供商"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-xl",children:"\uD83D\uDE80"}),(0,l.jsx)("span",{className:"font-medium",children:"DeepSeek"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"性价比之王，价格极低"}),(0,l.jsx)("a",{href:"https://platform.deepseek.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"}),(0,l.jsx)("span",{className:"font-medium",children:"豆包"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"字节跳动，国内访问稳定"}),(0,l.jsx)("a",{href:"https://console.volcengine.com/ark",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-xl",children:"☁️"}),(0,l.jsx)("span",{className:"font-medium",children:"通义千问"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"阿里云生态，企业级稳定"}),(0,l.jsx)("a",{href:"https://bailian.console.aliyun.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-xl",children:"\uD83E\uDDE0"}),(0,l.jsx)("span",{className:"font-medium",children:"智谱AI"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"清华技术，中文优化"}),(0,l.jsx)("a",{href:"https://open.bigmodel.cn",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-xl",children:"\uD83C\uDF1F"}),(0,l.jsx)("span",{className:"font-medium",children:"Google Gemini"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Google AI，功能强大"}),(0,l.jsx)("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"获取API密钥 →"})]})]})]})}),(0,l.jsx)("div",{className:"max-w-4xl mx-auto mt-8 text-center",children:(0,l.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"开始使用智能菜谱生成"}),(0,l.jsx)("p",{className:"mb-4 opacity-90",children:"配置好API密钥后，立即体验AI为您创造的美味菜谱"}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,l.jsxs)(n.$,{onClick:()=>s(!0),variant:"secondary",className:"bg-white text-orange-600 hover:bg-gray-100",children:[(0,l.jsx)(j.A,{className:"size-4 mr-2"}),"配置API密钥"]}),(0,l.jsx)(i(),{href:"/ingredients",children:(0,l.jsx)(n.$,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",children:"开始生成菜谱"})})]})]})})]}),(0,l.jsx)(y.$,{isOpen:e,onClose:()=>s(!1),onKeysUpdated:()=>{window.location.reload()}})]})}},6900:(e,s,a)=>{Promise.resolve().then(a.bind(a,6113))},7550:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8749:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9803:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[352,65,941,441,684,358],()=>s(6900)),_N_E=e.O()}]);