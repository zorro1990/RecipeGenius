(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1,45,170,772,981],{2796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{API_PROVIDERS:()=>g,clearProviderAPIKey:()=>u,clearStoredAPIKeys:()=>a,getConfiguredProviders:()=>p,getPreferredRecipeProvider:()=>f,getRecipeProviders:()=>x,getStoredAPIKeys:()=>c,hasAnyAPIKey:()=>l,maskAPIKey:()=>n,setPreferredRecipeProvider:()=>d,storeAPIKeys:()=>s,validateAPIKeyFormat:()=>i});let o="recipe-genius-2025";function n(e){if(!e||e.length<8)return"****";let t=e.substring(0,4),r=e.substring(e.length-4);return"".concat(t,"****").concat(r)}function i(e,t){if(!t||0===t.trim().length)return!1;let r=t.trim();switch(e){case"deepseek":case"qwen":return r.startsWith("sk-")&&r.length>20;case"doubao":case"glm":return r.length>10;case"gemini":return r.startsWith("AIza")&&r.length>30;default:return r.length>5}}function s(e){try{let t={};Object.entries(e).forEach(e=>{let[r,n]=e;n&&n.trim()&&(t[r]=function(e){try{return btoa(e).split("").reverse().join("")+"|"+o.length.toString()}catch(t){return e}}(n.trim()))}),localStorage.setItem("recipe-genius-api-keys",JSON.stringify(t))}catch(e){throw console.error("存储API密钥失败:",e),Error("存储API密钥失败")}}function c(){try{let e=localStorage.getItem("recipe-genius-api-keys");if(!e)return{};let t=JSON.parse(e),r={},n=!1;if(Object.entries(t).forEach(e=>{let[t,i]=e;if("string"==typeof i){let e=function(e){try{let t=e.lastIndexOf("|");if(-1===t)return"";let r=e.slice(t+1);if(parseInt(r)!==o.length)return"";let n=e.slice(0,t).split("").reverse().join("");return atob(n)}catch(e){return""}}(i);e?r[t]=e:n=!0}}),n&&0===Object.keys(r).length)return localStorage.removeItem("recipe-genius-api-keys"),{};return r}catch(e){return console.error("读取API密钥失败:",e),localStorage.removeItem("recipe-genius-api-keys"),{}}}function a(){try{localStorage.removeItem("recipe-genius-api-keys")}catch(e){console.error("清除API密钥失败:",e)}}function u(e){try{let t=c();delete t[e],s(t)}catch(t){console.error("清除".concat(e,"API密钥失败:"),t)}}function l(){let e=c(),t=Object.entries(e).some(e=>{let[t,r]=e;return"doubao"!==t&&r&&"string"==typeof r&&r.trim().length>0}),r=e.doubao&&"string"==typeof e.doubao&&e.doubao.trim().length>0;return!!(t||r)}function p(){return Object.entries(c()).filter(e=>{let[t,r]=e;return r&&"string"==typeof r&&r.trim().length>0}).map(e=>{let[t,r]=e;return t})}let g={deepseek:{name:"DeepSeek",description:"性价比之王，价格极低、性能优秀",website:"https://platform.deepseek.com",keyFormat:"sk-xxxxxxxx...",icon:"\uD83D\uDE80",features:["菜谱生成","营养分析"],priority:"推荐",usage:"主要用于菜谱生成，响应快速，成本低廉"},doubao:{name:"豆包 (字节跳动)",description:"国内访问稳定，支持图片识别",website:"https://console.volcengine.com/ark",keyFormat:"xxxxxxxx-xxxx-xxxx...",icon:"\uD83C\uDFAF",requiresEndpoint:!0,features:["图片识别","菜谱生成"],priority:"必需",usage:"图片识别功能必需，也可用于菜谱生成"},qwen:{name:"通义千问 (阿里云)",description:"阿里云生态，企业级稳定性",website:"https://bailian.console.aliyun.com",keyFormat:"sk-xxxxxxxx...",icon:"☁️",features:["菜谱生成"],priority:"备选",usage:"可用于菜谱生成，企业级稳定性"},glm:{name:"智谱AI (ChatGLM)",description:"清华技术，中文优化",website:"https://open.bigmodel.cn",keyFormat:"xxxxxxxx...",icon:"\uD83E\uDDE0",features:["菜谱生成"],priority:"备选",usage:"可用于菜谱生成，中文优化"},gemini:{name:"Google Gemini",description:"Google AI，功能强大（需科学上网）",website:"https://aistudio.google.com/app/apikey",keyFormat:"AIzaxxxxxxxx...",icon:"\uD83C\uDF1F",features:["菜谱生成"],priority:"备选",usage:"可用于菜谱生成，需要科学上网"}};function x(){let e=c(),t=[],r=e.preferredRecipeProvider;return r&&e[r]&&("doubao"===r&&e.doubao&&e.doubaoEndpointId?t.push("doubao"):"doubao"!==r&&e[r]&&t.push(r)),["deepseek","qwen","glm","gemini"].forEach(o=>{o!==r&&e[o]&&t.push(o)}),t}function d(e){try{let t=c();t.preferredRecipeProvider=e,s(t)}catch(e){console.error("设置首选菜谱模型失败:",e)}}function f(){try{return c().preferredRecipeProvider||null}catch(e){return console.error("获取首选菜谱模型失败:",e),null}}},6749:(e,t,r)=>{Promise.resolve().then(r.bind(r,2796))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(6749)),_N_E=e.O()}]);